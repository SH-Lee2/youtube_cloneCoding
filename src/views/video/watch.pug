extends ../base
include ../mixins/video

block content
    .bc
        .content
            .main-video(data-id=video.id)
                video#video(src="/"+video.video, controls)
                .video-first-info
                    #hastags
                        each hashtag in hashtags
                            span.hashtag=hashtag 
                    h2#title=video.title
                    //- #{video.owner.name}  
                    #video-meta-info
                        .view-time
                            span#view #{video.meta.view}회
                            span=video.createAt.toString().substring(4,15)
                        .thumbs
                            i.fas.fa-thumbs-up   
                            span#up #{video.meta.like}
                            i.fas.fa-thumbs-down   
                            span#down #{video.meta.unLike}
                hr
                .video-second-info
                    .owner-info
                        .owner
                            a(href=`/user/${video.owner._id}`)
                                img(src="/"+video.owner.avatarUrl , width="200px" , height="200px").profileImg
                            .owner-info-subscription
                                a(href=`/user/${user._id}`)=video.owner.name
                                #subscription-container
                                    span 구독자               
                                    span#subscribers=video.owner.meta.subscribers 
                                    span 명
                        button#subscription 구독     
                    .description
                        span#video-description=video.description
                hr
                .comment-header 
                    .comment-num
                        span 댓글 
                    .comment-box
                        img(src="/"+video.owner.avatarUrl , width="200px" , height="200px").profileImg
                        .comment-input 
                            input(type="text", name="", placeholder="공개 댓글 추가....")
                if String(video.owner._id) === String(user._id)
                    hr
                    a(href=`${video.id}/edit-video`) Edit Video &rarr; 
                    br
                    a(href=`${video.id}/delete-video`) Delete Video &rarr;
            .video-list
                each video in videos 
                    +video(video)
block script
    script(src="/static/js/video.js") 
    if loggedIn
        script(src="/static/js/thumbs.js") 
        script(src="/static/js/subscription.js") 